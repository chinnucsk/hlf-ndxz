// Generated by CoffeeScript 1.3.1

/*
HLF Core jQuery Extension v1.0
Released under the MIT License
Written with jQuery 1.7.2
*/


(function() {
  var $;

  $ = jQuery;

  if (!(typeof _ !== "undefined" && _ !== null)) {
    throw "UnderscoreJS required.";
  }

  _.templateSettings = {
    interpolate: /\{\{(.+?)\}\}/g
  };

  $.hlf = {
    toString: function() {
      return 'hlf';
    },
    createPlugin: function(ns, apiClass) {
      ns.apiClass = apiClass;
      return function(opt, $ctx) {
        var api, deep;
        if ($ctx == null) {
          $ctx = $('body');
        }
        api = this.first().data(ns.toString());
        if ((api != null) && !(opt != null)) {
          return api;
        }
        opt = $.extend((deep = true), {}, ns.defaults, opt);
        return this.each(function() {
          var $el, _base, _base1;
          $el = $(this).addClass(ns.toString('class'));
          if ((_base = apiClass.prototype)._evt == null) {
            _base._evt = function(name) {
              return "" + name + (ns.toString('event'));
            };
          }
          if ((_base1 = apiClass.prototype)._dat == null) {
            _base1._dat = function(name) {
              return "" + (ns.toString('data')) + name;
            };
          }
          return $el.data(ns.toString(), new apiClass($el, opt, $ctx));
        });
      };
    }
  };

}).call(this);
